var LhqGenerators;
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/AppError.ts":
/*!*************************!*\
  !*** ./src/AppError.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AppError: () => (/* binding */ AppError)
/* harmony export */ });
class AppError extends Error {
    constructor(message, stack) {
        super(message);
        this.message = message;
        this.name = 'AppError';
        // Maintains proper stack trace for where our error was thrown (only available on V8)
        if (Error.captureStackTrace) {
            Error.captureStackTrace(this, AppError);
        }
        if (stack !== undefined && stack !== null) {
            this.stack = stack;
        }
    }
}


/***/ }),

/***/ "./src/helpers.ts":
/*!************************!*\
  !*** ./src/helpers.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getKnownHelpers: () => (/* binding */ getKnownHelpers),
/* harmony export */   registerHelpers: () => (/* binding */ registerHelpers)
/* harmony export */ });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ "./src/utils.ts");
/* harmony import */ var _hostEnv__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./hostEnv */ "./src/hostEnv.ts");


function registerHelpers() {
    Object.keys(helpersList).forEach(key => {
        // @ts-ignore
        Handlebars.registerHelper(key, helpersList[key]);
    });
}
const helpersList = {
    'x-header': header,
    'x-value': objValue,
    'x-indent': indent,
    'x-join': join,
    'x-concat': concat,
    'x-replace': replace,
    'x-trimEnd': trimEnd,
    'x-equals': equals,
    'x-isTrue': isTrueHelper,
    'x-isFalse': isFalseHelper,
    'x-resourceComment': resourceComment,
    'x-resourceValue': resourceValue,
    'x-resourceHasLang': resourceHasLang,
    'x-resourceParamNames': resourceParamNames,
    'x-merge': merge,
    'x-sortBy': _utils__WEBPACK_IMPORTED_MODULE_0__.sortBy,
    'x-sortObject': sortObjectByKeyHelper,
    'x-objCount': _utils__WEBPACK_IMPORTED_MODULE_0__.objCount,
    'x-hasItems': _utils__WEBPACK_IMPORTED_MODULE_0__.hasItems,
    'x-textEncode': textEncodeHelper,
    'x-host-webHtmlEncode': hostWebHtmlEncodeHelper,
    'x-render': renderHelper,
    'x-isNullOrEmpty': _utils__WEBPACK_IMPORTED_MODULE_0__.isNullOrEmpty,
    'x-isNotNullOrEmpty': isNotNullOrEmptyHelper,
    'x-fn': callFunctionHelper,
    'x-logical': logicalOperatorHelper,
    'x-debugLog': debugLogHelper
};
function getKnownHelpers() {
    return Object.fromEntries(Object.keys(helpersList).map(key => [key, true]));
}
function header() {
    return `//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool - Localization HQ Editor.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------`;
}
function objValue(context, path) {
    const value = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.getNestedPropertyValue)(context, path);
    return value !== undefined ? value : '';
}
function indent(count, options) {
    count = count < 0 ? 0 : count;
    // @ts-ignore
    var content = options.fn(this);
    var paddedContent = content.split('\n')
        .map(line => '\t'.repeat(count) + line)
        .join('\n');
    return paddedContent;
}
/*
{{#join people delimiter=" and " start="0" end="2"}}{{name}} ({{gender}}, {{age}}){{/join}}
<h1>Jobs</h1>
{{join jobs delimiter=", " start="1" end="2"}}
*/
function join(items, block) {
    var delimiter = block.hash.delimiter || ",", start = block.hash.start || 0, len = items ? items.length : 0, end = block.hash.end || len, out = "", decorator = block.hash.decorator || `"`;
    if (end > len)
        end = len;
    if ('function' === typeof block) {
        for (let i = start; i < end; i++) {
            if (i > start)
                out += delimiter;
            if ('string' === typeof items[i])
                out += items[i];
            else
                out += block(items[i]);
        }
        return out;
    }
    else {
        // @ts-ignore
        var res = [].concat(items).map(x => `${decorator}${x}${decorator}`).slice(start, end).join(delimiter);
        // @ts-ignore
        return new Handlebars.SafeString(res);
    }
}
// usage: {{ x-concat 'prop1' 'prop2' 'prop3' sep="," }}
function concat(...args) {
    const options = args.pop();
    const sep = options.hash.sep || ''; // Default to empty string if no separator is provided
    // @ts-ignore
    //return args.filter(Boolean).join(sep);
    return args.join(sep);
}
function replace(value, block) {
    const what = block.hash.what || '', withStr = block.hash.with || '';
    if (!what || !withStr || (what === withStr)) {
        return value;
    }
    const regex = new RegExp(what, 'g');
    return value.replace(regex, withStr);
}
// usage: {{x-trimEnd fullPath "/index.html"}}
function trimEnd(input, endPattern) {
    try {
        const regex = new RegExp(endPattern + '$');
        return input.replace(regex, '');
    }
    catch (error) {
        console.error('Invalid regex pattern:', endPattern);
        return input;
    }
}
// usage: {{#x-equals 'hello world' 'WorlD' cs="false" }}
// function ifEquals(input: any, value: any, block: any): boolean {
//     const cs = (block.hash.cs || "true").toString().toLowerCase() == "true";
//     const val1 = typeof input === "string" ? input : (input?.toString() ?? '');
//     const val2 = typeof value === "string" ? value : (value?.toString() ?? '');
//    
//     const equals = cs ? val1 === val2 : (val1.toLowerCase() === val2.toLowerCase());
//     if (equals) {
//         // @ts-ignore
//         return block.fn(this);
//     } else {
//         // @ts-ignore
//         return block.inverse(this);
//     }
// }
function equals(input, value, block) {
    /*const cs = (block.hash.cs || "true").toString().toLowerCase() == "true";
    const val1 = typeof input === "string" ? input : (input?.toString() ?? '');
    const val2 = typeof value === "string" ? value : (value?.toString() ?? '');*/
    const { cs, val1, val2 } = getDataForCompare(input, value, block);
    return cs ? val1 === val2 : (val1.toLowerCase() === val2.toLowerCase());
}
function isTrueHelper(input) {
    return input === true;
}
function isFalseHelper(input) {
    return input === false;
}
function getDataForCompare(input, value, block) {
    var _a, _b;
    const cs = (block.hash.cs || "true").toString().toLowerCase() == "true";
    const val1 = typeof input === "string" ? input : ((_a = input === null || input === void 0 ? void 0 : input.toString()) !== null && _a !== void 0 ? _a : '');
    const val2 = typeof value === "string" ? value : ((_b = value === null || value === void 0 ? void 0 : value.toString()) !== null && _b !== void 0 ? _b : '');
    return { cs: cs, val1, val2 };
}
function logicalOperatorHelper(input, value, block) {
    const op = block.hash.op || 'and';
    if (op === 'and') {
        return input === value;
    }
    else if (op === 'or') {
        return input || value;
    }
    return false;
}
// function compareHelper(input: any, value: any, block: any): boolean {
//     const cs = (block.hash.cs || "true").toString().toLowerCase() == "true";
//     const {cs, val1, val2} = getDataForCompare(input, value, block)
//
// }
function trimComment(value) {
    let trimmed = false;
    var idxNewLine = value.indexOf('\r\n');
    if (idxNewLine == -1) {
        idxNewLine = value.indexOf('\n');
    }
    if (idxNewLine == -1) {
        idxNewLine = value.indexOf('\r');
    }
    if (idxNewLine > -1) {
        value = value.substring(0, idxNewLine);
        trimmed = true;
    }
    if (value.length > 80) {
        value = value.substring(0, 80);
        trimmed = true;
    }
    if (trimmed) {
        value += "...";
    }
    return value.replace('\t', ' ');
}
function resourceComment(resource, options) {
    var _a, _b, _c;
    if (typeof resource === 'object') {
        const model = options.hash.root.model;
        const primaryLanguage = (_b = (_a = model === null || model === void 0 ? void 0 : model.model) === null || _a === void 0 ? void 0 : _a.primaryLanguage) !== null && _b !== void 0 ? _b : '';
        if (!(0,_utils__WEBPACK_IMPORTED_MODULE_0__.isNullOrEmpty)(primaryLanguage) && resource.values) {
            const resourceValue = (_c = resource.values[primaryLanguage]) === null || _c === void 0 ? void 0 : _c.value;
            let propertyComment = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.isNullOrEmpty)(resourceValue) ? resource.description : resourceValue;
            propertyComment = trimComment(propertyComment);
            // @ts-ignore
            return new Handlebars.SafeString(propertyComment);
        }
    }
    return '';
}
function resourceValue(resource, options) {
    var _a, _b, _c, _d, _e;
    if (typeof resource === 'object') {
        const lang = (_a = options.hash.lang) !== null && _a !== void 0 ? _a : '';
        const trim = (_b = options.hash.trim) !== null && _b !== void 0 ? _b : false;
        if (!(0,_utils__WEBPACK_IMPORTED_MODULE_0__.isNullOrEmpty)(lang)) {
            const res = (_e = (_d = (_c = resource === null || resource === void 0 ? void 0 : resource.values) === null || _c === void 0 ? void 0 : _c[lang]) === null || _d === void 0 ? void 0 : _d.value) !== null && _e !== void 0 ? _e : '';
            return trim ? res.trim() : res;
        }
    }
    return '';
}
function resourceHasLang(resource, options) {
    var _a;
    if (typeof resource === 'object') {
        const lang = (_a = options.hash.lang) !== null && _a !== void 0 ? _a : '';
        if (!(0,_utils__WEBPACK_IMPORTED_MODULE_0__.isNullOrEmpty)(lang) && resource.values && resource.values[lang]) {
            return true;
        }
    }
    return false;
}
function resourceParamNames(resource, options) {
    var _a, _b;
    if (typeof resource === 'object' && resource.parameters) {
        const withTypes = (_b = (_a = options === null || options === void 0 ? void 0 : options.hash) === null || _a === void 0 ? void 0 : _a.withTypes) !== null && _b !== void 0 ? _b : false;
        return Object.keys(resource.parameters).map(key => {
            return withTypes ? `object ${key}` : key;
        }).join(',');
    }
    return '';
}
function merge(context, options) {
    var _a;
    return Object.assign({}, context, (_a = options.hash) !== null && _a !== void 0 ? _a : {});
}
function sortObjectByKeyHelper(obj, options) {
    var _a, _b;
    const sortOrder = (_b = (_a = options === null || options === void 0 ? void 0 : options.hash) === null || _a === void 0 ? void 0 : _a.sortOrder) !== null && _b !== void 0 ? _b : 'asc';
    return (0,_utils__WEBPACK_IMPORTED_MODULE_0__.sortObjectByKey)(obj, sortOrder);
}
function textEncodeHelper(str, options) {
    var _a, _b, _c, _d;
    const mode = (_b = (_a = options === null || options === void 0 ? void 0 : options.hash) === null || _a === void 0 ? void 0 : _a.mode) !== null && _b !== void 0 ? _b : 'html';
    const quotes = (_d = (_c = options === null || options === void 0 ? void 0 : options.hash) === null || _c === void 0 ? void 0 : _c.quotes) !== null && _d !== void 0 ? _d : false;
    const s = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.textEncode)(str, { mode: mode, quotes });
    // @ts-ignore
    return new Handlebars.SafeString(s);
}
function hostWebHtmlEncodeHelper(str) {
    if ((0,_utils__WEBPACK_IMPORTED_MODULE_0__.isNullOrEmpty)(str)) {
        return str;
    }
    const encoded = _hostEnv__WEBPACK_IMPORTED_MODULE_1__.HostEnv.webHtmlEncode(str);
    // @ts-ignore
    return new Handlebars.SafeString(encoded);
}
function renderHelper(input, options) {
    var _a, _b;
    const when = (_b = (_a = options === null || options === void 0 ? void 0 : options.hash) === null || _a === void 0 ? void 0 : _a.when) !== null && _b !== void 0 ? _b : true;
    // @ts-ignore
    return when ? input : '';
}
function isNotNullOrEmptyHelper(input) {
    return !(0,_utils__WEBPACK_IMPORTED_MODULE_0__.isNullOrEmpty)(input);
}
function callFunctionHelper(fn) {
    // HostEnv.debugLog("[callFunctionHelper] fn: " + typeof fn + " , " + JSON.stringify(fn));
    return fn();
}
function debugLogHelper(...args) {
    _hostEnv__WEBPACK_IMPORTED_MODULE_1__.HostEnv.debugLog(args.join(' '));
    return '';
}


/***/ }),

/***/ "./src/hostEnv.ts":
/*!************************!*\
  !*** ./src/hostEnv.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HostEnv: () => (/* binding */ HostEnv)
/* harmony export */ });
// declare let HostEnv: {
//     DebugLog: (msg: string) => void;
//     AddResultFile: (name: string, content: string) => void;
// }
class HostEnv {
    static addResultFile(name, content) {
        if (HostAddResultFile) {
            HostAddResultFile(name, content);
            //HostEnv.debugLog(`Added file '${name}' with content: ${content}`);
        }
        else {
            console.log(`Added file '${name}' with content: '${content}'`);
        }
    }
    static debugLog(msg) {
        if (HostDebugLog) {
            HostDebugLog(msg);
        }
        else {
            console.log(msg);
        }
    }
    static pathCombine(path1, path2) {
        if (HostPathCombine) {
            return HostPathCombine(path1, path2);
        }
        return path1 + '/' + path2;
    }
    static webHtmlEncode(input) {
        if (HostWebHtmlEncode) {
            return HostWebHtmlEncode(input);
        }
        return input;
    }
}


/***/ }),

/***/ "./src/templateManager.ts":
/*!********************************!*\
  !*** ./src/templateManager.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TemplateManager: () => (/* binding */ TemplateManager)
/* harmony export */ });
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./helpers */ "./src/helpers.ts");
/* harmony import */ var _templates_typescriptJson__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./templates/typescriptJson */ "./src/templates/typescriptJson.ts");
/* harmony import */ var _templates_netCoreResxCsharp__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./templates/netCoreResxCsharp */ "./src/templates/netCoreResxCsharp.ts");
/* harmony import */ var _templates_netFwResxCsharp__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./templates/netFwResxCsharp */ "./src/templates/netFwResxCsharp.ts");
/* harmony import */ var _templates_winFormsResxCsharp__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./templates/winFormsResxCsharp */ "./src/templates/winFormsResxCsharp.ts");
/* harmony import */ var _templates_wpfResxCsharp__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./templates/wpfResxCsharp */ "./src/templates/wpfResxCsharp.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils */ "./src/utils.ts");
// noinspection JSUnusedGlobalSymbols







const CodeGenUID = 'b40c8a1d-23b7-4f78-991b-c24898596dd2';
class TemplateManager {
    static intialize(handlebarFiles) {
        TemplateManager.handlebarFiles = JSON.parse(handlebarFiles);
        // @ts-ignore
        String.prototype.isTrue = function () {
            return this.toLowerCase() === "true";
        };
        (0,_helpers__WEBPACK_IMPORTED_MODULE_0__.registerHelpers)();
    }
    static runTemplate(lhqModelJson, hostData) {
        let lhqModel = JSON.parse(lhqModelJson);
        if (lhqModel) {
            lhqModel = TemplateManager.sortByNameModel(lhqModel);
            const { template, templateId, settingsNode } = TemplateManager.loadTemplate(lhqModel);
            let settings = template.loadSettings(settingsNode);
            let host = {};
            if (hostData) {
                host = JSON.parse(hostData);
            }
            const rootModel = {
                model: lhqModel,
                settings: settings,
                host: host,
                extra: {}
            };
            template.generate(rootModel);
        }
        else {
            throw new Error(`Unable to deserialize LHQ model !`);
        }
    }
    static loadTemplate(model) {
        var _a, _b, _c;
        let template = undefined;
        let templateId = '';
        let node = (_b = (_a = model.metadatas) === null || _a === void 0 ? void 0 : _a.childs) === null || _b === void 0 ? void 0 : _b.find(x => { var _a; return x.name === 'metadata' && ((_a = x.attrs) === null || _a === void 0 ? void 0 : _a['descriptorUID']) === CodeGenUID; });
        if (node) {
            node = (_c = node.childs) === null || _c === void 0 ? void 0 : _c.find(x => { var _a; return x.name === 'content' && ((_a = x.attrs) === null || _a === void 0 ? void 0 : _a['templateId']) !== undefined; });
            if (node) {
                templateId = node === null || node === void 0 ? void 0 : node.attrs['templateId'];
                node = node.childs.find(x => { var _a; return x.name === 'Settings' && ((_a = x.childs) === null || _a === void 0 ? void 0 : _a.length) > 0; });
            }
        }
        if (node && templateId !== undefined && template !== '') {
            const ctor = TemplateManager.generators[templateId];
            template = (ctor && new ctor(TemplateManager.handlebarFiles)) || undefined;
            return { template, templateId, settingsNode: node };
        }
        throw new Error(`Template '${templateId}' not found !`);
    }
    static sortByNameModel(lhqModel) {
        function recursiveCategories(parentCategory) {
            if (parentCategory.categories) {
                parentCategory.categories = (0,_utils__WEBPACK_IMPORTED_MODULE_6__.sortObjectByKey)(parentCategory.categories);
                (0,_utils__WEBPACK_IMPORTED_MODULE_6__.iterateObject)(parentCategory.categories, (category, _, __, isLastCategory) => {
                    category.isRoot = () => false;
                    category.isLast = () => isLastCategory;
                    category.getParent = () => parentCategory;
                    category.hasCategories = () => (0,_utils__WEBPACK_IMPORTED_MODULE_6__.hasItems)(parentCategory.categories);
                    category.hasResources = () => (0,_utils__WEBPACK_IMPORTED_MODULE_6__.hasItems)(parentCategory.resources);
                    recursiveCategories(category);
                });
            }
            if (parentCategory.resources) {
                parentCategory.resources = (0,_utils__WEBPACK_IMPORTED_MODULE_6__.sortObjectByKey)(parentCategory.resources);
                (0,_utils__WEBPACK_IMPORTED_MODULE_6__.iterateObject)(parentCategory.resources, (resource, _, __, isLastResource) => {
                    resource.isLast = () => isLastResource;
                    resource.getParent = () => parentCategory;
                    resource.hasParameters = () => (0,_utils__WEBPACK_IMPORTED_MODULE_6__.hasItems)(resource.parameters);
                    if (resource.parameters) {
                        resource.parameters = (0,_utils__WEBPACK_IMPORTED_MODULE_6__.sortObjectByValue)(resource.parameters, x => x.order);
                        (0,_utils__WEBPACK_IMPORTED_MODULE_6__.iterateObject)(resource.parameters, (parameter, _, __, isLastParam) => {
                            parameter.isLast = () => isLastParam;
                            parameter.getParent = () => resource;
                        });
                    }
                });
            }
        }
        lhqModel.isRoot = () => true;
        lhqModel.isLast = () => true;
        lhqModel.getParent = () => undefined;
        lhqModel.hasCategories = () => (0,_utils__WEBPACK_IMPORTED_MODULE_6__.hasItems)(lhqModel.categories);
        lhqModel.hasResources = () => (0,_utils__WEBPACK_IMPORTED_MODULE_6__.hasItems)(lhqModel.resources);
        recursiveCategories(lhqModel);
        return lhqModel;
    }
}
TemplateManager.generators = {
    [_templates_typescriptJson__WEBPACK_IMPORTED_MODULE_1__.TypescriptJson01Template.Id]: _templates_typescriptJson__WEBPACK_IMPORTED_MODULE_1__.TypescriptJson01Template,
    [_templates_netCoreResxCsharp__WEBPACK_IMPORTED_MODULE_2__.NetCoreResxCsharp01Template.Id]: _templates_netCoreResxCsharp__WEBPACK_IMPORTED_MODULE_2__.NetCoreResxCsharp01Template,
    [_templates_netFwResxCsharp__WEBPACK_IMPORTED_MODULE_3__.NetFwResxCsharp01Template.Id]: _templates_netFwResxCsharp__WEBPACK_IMPORTED_MODULE_3__.NetFwResxCsharp01Template,
    [_templates_winFormsResxCsharp__WEBPACK_IMPORTED_MODULE_4__.WinFormsResxCsharp01Template.Id]: _templates_winFormsResxCsharp__WEBPACK_IMPORTED_MODULE_4__.WinFormsResxCsharp01Template,
    [_templates_wpfResxCsharp__WEBPACK_IMPORTED_MODULE_5__.WpfResxCsharp01Template.Id]: _templates_wpfResxCsharp__WEBPACK_IMPORTED_MODULE_5__.WpfResxCsharp01Template
};


/***/ }),

/***/ "./src/templates/codeGeneratorTemplate.ts":
/*!************************************************!*\
  !*** ./src/templates/codeGeneratorTemplate.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CodeGeneratorTemplate: () => (/* binding */ CodeGeneratorTemplate)
/* harmony export */ });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ "./src/utils.ts");
/* harmony import */ var _hostEnv__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../hostEnv */ "./src/hostEnv.ts");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../helpers */ "./src/helpers.ts");



class CodeGeneratorTemplate {
    constructor(handlebarFiles) {
        this.handlebarFiles = handlebarFiles;
    }
    getHandlebarFile(templateName) {
        const file = this.handlebarFiles[templateName];
        if (file === undefined || file === '') {
            throw new Error(`Handlebar file with name '${templateName}' not found !`);
        }
        return file;
    }
    prepareFilePath(fileName, outputSettings) {
        const outputFolder = outputSettings.OutputFolder;
        return (0,_utils__WEBPACK_IMPORTED_MODULE_0__.isNullOrEmpty)(outputFolder) ? fileName : _hostEnv__WEBPACK_IMPORTED_MODULE_1__.HostEnv.pathCombine(outputFolder, fileName);
    }
    compileAndRun(templateFileName, data) {
        let compiled;
        if (this.lastCompiledTemplate === undefined || this.lastCompiledTemplate.templateFileName.toLowerCase() !== templateFileName.toLowerCase()) {
            const handlebarsTemplate = this.getHandlebarFile(templateFileName);
            const options = { knownHelpers: (0,_helpers__WEBPACK_IMPORTED_MODULE_2__.getKnownHelpers)() };
            // @ts-ignore
            compiled = Handlebars.compile(handlebarsTemplate, options);
            this.lastCompiledTemplate = {
                templateFileName: templateFileName,
                compiled: compiled
            };
        }
        else {
            compiled = this.lastCompiledTemplate.compiled;
        }
        if ((0,_utils__WEBPACK_IMPORTED_MODULE_0__.isNullOrEmpty)(compiled)) {
            throw new Error(`Template '${templateFileName}' was not found !`);
        }
        let result = compiled(data);
        result = result.replace(/\t¤$/gm, "");
        return result;
    }
}


/***/ }),

/***/ "./src/templates/csharpResXTemplateBase.ts":
/*!*************************************************!*\
  !*** ./src/templates/csharpResXTemplateBase.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CSharpResXTemplateBase: () => (/* binding */ CSharpResXTemplateBase)
/* harmony export */ });
/* harmony import */ var _codeGeneratorTemplate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./codeGeneratorTemplate */ "./src/templates/codeGeneratorTemplate.ts");
/* harmony import */ var _hostEnv__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../hostEnv */ "./src/hostEnv.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ "./src/utils.ts");
/* harmony import */ var _AppError__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../AppError */ "./src/AppError.ts");




class CSharpResXTemplateBase extends _codeGeneratorTemplate__WEBPACK_IMPORTED_MODULE_0__.CodeGeneratorTemplate {
    constructor(handlebarFiles) {
        super(handlebarFiles);
    }
    checkHasNamespaceName(rootModel) {
        const key = 'namespace';
        if ((0,_utils__WEBPACK_IMPORTED_MODULE_2__.isNullOrEmpty)(rootModel.host[key])) {
            throw new _AppError__WEBPACK_IMPORTED_MODULE_3__.AppError(`Missing value for parameter '${key}' ! 
                 Provide valid path to *.csproj which uses required lhq model or 
                 provide value for parameter '${key}' in cmd data parameters.`);
        }
    }
    generate(rootModel) {
        var _a;
        const modelVersion = rootModel.model.model.version;
        // if (modelVersion < 2) {
        //     throw new AppError(`Current LHQ file version (${modelVersion}) is not supported! (min version 2 is supported)`);
        // }
        const defaultCompatibleTextEncoding = modelVersion < 2;
        const modelName = rootModel.model.model.name;
        if (this._settings.CSharp.Enabled.isTrue()) {
            this.checkHasNamespaceName(rootModel);
            rootModel.extra = {};
            rootModel.extra['rootClassName'] = this.getRootCsharpClassName(rootModel);
            const csfileContent = this.compileAndRun(this.csharpTemplateName, rootModel);
            const csFileName = this.prepareFilePath(modelName + '.gen.cs', this._settings.CSharp);
            _hostEnv__WEBPACK_IMPORTED_MODULE_1__.HostEnv.addResultFile(csFileName, csfileContent);
        }
        if (this._settings.ResX.Enabled.isTrue()) {
            rootModel.extra = {};
            rootModel.extra['useHostWebHtmlEncode'] = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.isNullOrEmpty)(this._settings.ResX.CompatibleTextEncoding)
                ? defaultCompatibleTextEncoding
                : this._settings.ResX.CompatibleTextEncoding.isTrue();
            (_a = rootModel.model.languages) === null || _a === void 0 ? void 0 : _a.forEach(lang => {
                if (!(0,_utils__WEBPACK_IMPORTED_MODULE_2__.isNullOrEmpty)(lang)) {
                    rootModel.extra['lang'] = lang;
                    const resxfileContent = this.compileAndRun('SharedResx', rootModel);
                    const resxfileName = this.prepareFilePath(`${modelName}.${lang}.resx`, this._settings.ResX);
                    _hostEnv__WEBPACK_IMPORTED_MODULE_1__.HostEnv.addResultFile(resxfileName, resxfileContent);
                }
            });
        }
    }
    loadSettings(node) {
        var _a, _b, _c;
        const result = {
            CSharp: undefined,
            ResX: undefined
        };
        (_a = node.childs) === null || _a === void 0 ? void 0 : _a.forEach(x => {
            const attrs = x.attrs;
            switch (x.name) {
                case 'CSharp':
                    result.CSharp = attrs;
                    break;
                case 'ResX':
                    result.ResX = attrs;
                    break;
            }
        });
        if (result.CSharp === undefined) {
            throw new Error('CSharp settings not found !');
        }
        if (result.ResX === undefined) {
            throw new Error('ResX settings not found !');
        }
        result.CSharp.Enabled = (_b = result.CSharp.Enabled) !== null && _b !== void 0 ? _b : true.toString();
        result.ResX.Enabled = (_c = result.ResX.Enabled) !== null && _c !== void 0 ? _c : true.toString();
        this._settings = result;
        return result;
    }
}


/***/ }),

/***/ "./src/templates/netCoreResxCsharp.ts":
/*!********************************************!*\
  !*** ./src/templates/netCoreResxCsharp.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   NetCoreResxCsharp01Template: () => (/* binding */ NetCoreResxCsharp01Template)
/* harmony export */ });
/* harmony import */ var _csharpResXTemplateBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./csharpResXTemplateBase */ "./src/templates/csharpResXTemplateBase.ts");

class NetCoreResxCsharp01Template extends _csharpResXTemplateBase__WEBPACK_IMPORTED_MODULE_0__.CSharpResXTemplateBase {
    static get Id() {
        return 'NetCoreResxCsharp01';
    }
    get csharpTemplateName() {
        return NetCoreResxCsharp01Template.Id;
    }
    getRootCsharpClassName(rootModel) {
        return rootModel.model.model.name + 'Localizer';
    }
}


/***/ }),

/***/ "./src/templates/netFwResxCsharp.ts":
/*!******************************************!*\
  !*** ./src/templates/netFwResxCsharp.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   NetFwResxCsharp01Template: () => (/* binding */ NetFwResxCsharp01Template)
/* harmony export */ });
/* harmony import */ var _csharpResXTemplateBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./csharpResXTemplateBase */ "./src/templates/csharpResXTemplateBase.ts");

class NetFwResxCsharp01Template extends _csharpResXTemplateBase__WEBPACK_IMPORTED_MODULE_0__.CSharpResXTemplateBase {
    static get Id() {
        return 'NetFwResxCsharp01';
    }
    get csharpTemplateName() {
        return NetFwResxCsharp01Template.Id;
    }
    getRootCsharpClassName(rootModel) {
        return rootModel.model.model.name + 'Context';
    }
}


/***/ }),

/***/ "./src/templates/typescriptJson.ts":
/*!*****************************************!*\
  !*** ./src/templates/typescriptJson.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TypescriptJson01Template: () => (/* binding */ TypescriptJson01Template)
/* harmony export */ });
/* harmony import */ var _codeGeneratorTemplate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./codeGeneratorTemplate */ "./src/templates/codeGeneratorTemplate.ts");
/* harmony import */ var _hostEnv__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../hostEnv */ "./src/hostEnv.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ "./src/utils.ts");



class TypescriptJson01Template extends _codeGeneratorTemplate__WEBPACK_IMPORTED_MODULE_0__.CodeGeneratorTemplate {
    generate(rootModel) {
        var _a;
        const model = rootModel.model.model;
        const modelName = model.name;
        if (this._settings.Typescript.Enabled.isTrue()) {
            const dtsFileContent = this.compileAndRun(TypescriptJson01Template.Id, rootModel);
            const dtsFileName = this.prepareFilePath(modelName + '.d.ts', this._settings.Typescript);
            _hostEnv__WEBPACK_IMPORTED_MODULE_1__.HostEnv.addResultFile(dtsFileName, dtsFileContent);
        }
        if (this._settings.Json.Enabled.isTrue()) {
            const metadataFileNameSuffix = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.valueOrDefault)(this._settings.Json.MetadataFileNameSuffix, 'metadata');
            const metadataObj = {
                default: model.primaryLanguage,
                languages: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.sortBy)(rootModel.model.languages, undefined, 'asc')
            };
            const metadataContent = JSON.stringify(metadataObj, null, '\t') + '\n';
            const metadataFileName = this.prepareFilePath(`${modelName}-${metadataFileNameSuffix}.json`, this._settings.Json);
            _hostEnv__WEBPACK_IMPORTED_MODULE_1__.HostEnv.addResultFile(metadataFileName, metadataContent);
            rootModel.extra = {};
            const writeEmptyValues = this._settings.Json.WriteEmptyValues.isTrue();
            const allFilesHasLangInName = this._settings.Json.CultureCodeInFileNameForPrimaryLanguage.isTrue();
            (_a = rootModel.model.languages) === null || _a === void 0 ? void 0 : _a.forEach(lang => {
                if (!(0,_utils__WEBPACK_IMPORTED_MODULE_2__.isNullOrEmpty)(lang)) {
                    const isPrimary = model.primaryLanguage === lang;
                    const langName = !isPrimary || allFilesHasLangInName ? `.${lang}` : '';
                    rootModel.extra['lang'] = lang;
                    rootModel.extra['writeEmptyValues'] = writeEmptyValues;
                    const jsonFileContent = this.compileAndRun('JsonPerLanguage', rootModel);
                    const jsonfileName = this.prepareFilePath(`${modelName}${langName}.json`, this._settings.Json);
                    _hostEnv__WEBPACK_IMPORTED_MODULE_1__.HostEnv.addResultFile(jsonfileName, jsonFileContent);
                }
            });
        }
    }
    loadSettings(node) {
        var _a, _b, _c;
        const result = { Typescript: undefined, Json: undefined };
        (_a = node.childs) === null || _a === void 0 ? void 0 : _a.forEach(x => {
            const attrs = x.attrs;
            switch (x.name) {
                case 'Typescript':
                    result.Typescript = attrs;
                    break;
                case 'Json':
                    result.Json = attrs;
                    break;
            }
        });
        if (result.Typescript === undefined) {
            throw new Error('Typescript settings not found !');
        }
        if (result.Json === undefined) {
            throw new Error('Json settings not found !');
        }
        result.Typescript.Enabled = (_b = result.Typescript.Enabled) !== null && _b !== void 0 ? _b : true.toString();
        result.Json.Enabled = (_c = result.Json.Enabled) !== null && _c !== void 0 ? _c : true.toString();
        this._settings = result;
        return result;
    }
    static get Id() {
        return 'TypescriptJson01';
    }
}


/***/ }),

/***/ "./src/templates/winFormsResxCsharp.ts":
/*!*********************************************!*\
  !*** ./src/templates/winFormsResxCsharp.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WinFormsResxCsharp01Template: () => (/* binding */ WinFormsResxCsharp01Template)
/* harmony export */ });
/* harmony import */ var _csharpResXTemplateBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./csharpResXTemplateBase */ "./src/templates/csharpResXTemplateBase.ts");

class WinFormsResxCsharp01Template extends _csharpResXTemplateBase__WEBPACK_IMPORTED_MODULE_0__.CSharpResXTemplateBase {
    static get Id() {
        return 'WinFormsResxCsharp01';
    }
    get csharpTemplateName() {
        return WinFormsResxCsharp01Template.Id;
    }
    getRootCsharpClassName(rootModel) {
        return rootModel.model.model.name + 'Context';
    }
}


/***/ }),

/***/ "./src/templates/wpfResxCsharp.ts":
/*!****************************************!*\
  !*** ./src/templates/wpfResxCsharp.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WpfResxCsharp01Template: () => (/* binding */ WpfResxCsharp01Template)
/* harmony export */ });
/* harmony import */ var _csharpResXTemplateBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./csharpResXTemplateBase */ "./src/templates/csharpResXTemplateBase.ts");

class WpfResxCsharp01Template extends _csharpResXTemplateBase__WEBPACK_IMPORTED_MODULE_0__.CSharpResXTemplateBase {
    static get Id() {
        return 'WpfResxCsharp01';
    }
    get csharpTemplateName() {
        return WpfResxCsharp01Template.Id;
    }
    getRootCsharpClassName(rootModel) {
        return rootModel.model.model.name + 'Context';
    }
}


/***/ }),

/***/ "./src/utils.ts":
/*!**********************!*\
  !*** ./src/utils.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getNestedPropertyValue: () => (/* binding */ getNestedPropertyValue),
/* harmony export */   hasItems: () => (/* binding */ hasItems),
/* harmony export */   isNullOrEmpty: () => (/* binding */ isNullOrEmpty),
/* harmony export */   iterateObject: () => (/* binding */ iterateObject),
/* harmony export */   objCount: () => (/* binding */ objCount),
/* harmony export */   sortBy: () => (/* binding */ sortBy),
/* harmony export */   sortObjectByKey: () => (/* binding */ sortObjectByKey),
/* harmony export */   sortObjectByValue: () => (/* binding */ sortObjectByValue),
/* harmony export */   textEncode: () => (/* binding */ textEncode),
/* harmony export */   toBoolean: () => (/* binding */ toBoolean),
/* harmony export */   valueAsBool: () => (/* binding */ valueAsBool),
/* harmony export */   valueOrDefault: () => (/* binding */ valueOrDefault)
/* harmony export */ });
//const he = require('he');
// export function htmlEncode(value: string, options: any): string {
//     return he.encode(value, options);
// }
function getNestedPropertyValue(obj, path) {
    return path.split('.').reduce((acc, part) => {
        if (acc === undefined)
            return undefined;
        // Check if the part includes an array index like "c[1]"
        const match = part.match(/^(\w+)\[(\d+)]$/);
        if (match) {
            const [, property, index] = match;
            // @ts-ignore
            return Array.isArray(acc[property]) ? acc[property][index] : undefined;
        }
        // @ts-ignore
        return acc[part];
    }, obj);
}
/**
 * Checks if a `value` is null, undefined or empty string.
 *
 * @typeParam T - The type of the value.
 * @param value - The value to check.
 *
 * @returns `true` if the value is null, undefined or empty string, `false` otherwise.
 */
function isNullOrEmpty(value) {
    return value === null || value === undefined || value === '';
}
function sortObjectByKey(obj, sortOrder = 'asc') {
    return Object.fromEntries(Object.entries(obj).sort(([a], [b]) => sortOrder === 'asc' ? a.localeCompare(b, 'en') : b.localeCompare(a, 'en')));
}
function sortObjectByValue(obj, predicate, sortOrder = 'asc') {
    return Object.fromEntries(Object.entries(obj).sort(([, a], [, b]) => {
        const aValue = predicate(a);
        const bValue = predicate(b);
        if (aValue < bValue) {
            return sortOrder === 'asc' ? -1 : 1;
        }
        if (aValue > bValue) {
            return sortOrder === 'asc' ? 1 : -1;
        }
        return 0;
    }));
}
function sortBy(source, propName, sortOrder = 'asc') {
    return source.concat([]).sort((a, b) => {
        // @ts-ignore
        const v1 = propName === undefined ? a : a[propName];
        // @ts-ignore
        const v2 = propName === undefined ? b : b[propName];
        const res = v1 > v2 ? 1 : ((v2 > v1) ? -1 : 0);
        return sortOrder === 'asc' ? res : res * -1;
    });
}
function iterateObject(obj, callback) {
    const entries = Object.entries(obj);
    if (entries.length > 0) {
        const lastIndex = entries.length - 1;
        let index = -1;
        for (const [key, value] of entries) {
            index++;
            const isLast = index == lastIndex;
            callback(value, key, index, isLast);
        }
    }
}
const encodingCharMaps = {
    html: {
        '>': '&gt;',
        '<': '&lt;',
        '"': '&quot;',
        "'": '&apos;',
        '&': '&amp;'
    },
    xml: {
        '>': '&gt;',
        '<': '&lt;',
        '&': '&amp;'
    },
    xml_quotes: {
        '>': '&gt;',
        '<': '&lt;',
        '"': '&quot;',
        "'": '&apos;',
        '&': '&amp;'
    },
    json: {
        '\\': '\\\\',
        '"': '\\"',
        '\b': '\\b',
        '\f': '\\f',
        '\n': '\\n',
        '\r': '\\r',
        '\t': '\\t'
    }
};
function textEncode(str, encoder) {
    var _a;
    if (isNullOrEmpty(str)) {
        return str;
    }
    const encodedChars = [];
    for (let i = 0; i < str.length; i++) {
        const ch = str.charAt(i);
        let map = undefined;
        if (encoder.mode === 'html') {
            map = encodingCharMaps.html;
        }
        else if (encoder.mode === 'xml') {
            map = ((_a = encoder.quotes) !== null && _a !== void 0 ? _a : true) ? encodingCharMaps.xml_quotes : encodingCharMaps.xml;
        }
        else {
            map = encodingCharMaps.json;
        }
        if (map.hasOwnProperty(ch)) {
            encodedChars.push(map[ch]);
        }
        else {
            encodedChars.push(ch);
        }
    }
    return encodedChars.join('');
}
function valueOrDefault(value, defaultValue) {
    let result = isNullOrEmpty(value)
        ? defaultValue
        : value;
    if (typeof defaultValue === 'boolean') {
        result = valueAsBool(value);
    }
    return result;
}
function valueAsBool(value) {
    switch (typeof value) {
        case 'boolean':
            return value;
        case 'number':
            return value > 0;
        case 'string':
            return value.toLowerCase() === 'true';
        default:
            return false;
    }
}
function toBoolean(value) {
    return value.toLowerCase() === 'true';
}
function hasItems(obj) {
    return objCount(obj) > 0;
}
function objCount(obj) {
    if (isNullOrEmpty(obj)) {
        return 0;
    }
    if (Array.isArray(obj)) {
        return obj.length;
    }
    if (typeof obj === 'object') {
        return Object.keys(obj).length;
    }
    return 0;
}


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry needs to be wrapped in an IIFE because it needs to be isolated against other modules in the chunk.
(() => {
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TemplateManager: () => (/* reexport safe */ _templateManager__WEBPACK_IMPORTED_MODULE_0__.TemplateManager)
/* harmony export */ });
/* harmony import */ var _templateManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./templateManager */ "./src/templateManager.ts");
//export * from './types';
// export * from './utils';


})();

LhqGenerators = __webpack_exports__;
/******/ })()
;