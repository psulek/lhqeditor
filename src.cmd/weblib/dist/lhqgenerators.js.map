{"version":3,"file":"lhqgenerators.js","mappings":";;;;;;;;;;;;;;;;;AAAsG;AAClE;AAC7B;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,0CAAM;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,8DAAsB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,oDAAoD,OAAO,GAAG,QAAQ,IAAI,KAAK,GAAG;AACpF;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,SAAS;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,UAAU,EAAE,EAAE,EAAE,UAAU;AACzE;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,qDAAa;AAC1B;AACA,kCAAkC,qDAAa;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,qDAAa;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,qDAAa;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,IAAI;AAC7C,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,2BAA2B,kEAAkE;AAC7F;AACA;AACA;AACA;AACA,WAAW,uDAAe;AAC1B;AACA;AACA,QAAQ,qDAAa;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,kDAAU,QAAQ,oBAAoB;AACpD;AACA;AACA;AACA;AACA,QAAQ,qDAAa;AACrB;AACA;AACA,oBAAoB,6CAAO;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;ACnQA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA,8CAA8C,KAAK,kBAAkB,QAAQ;AAC7E;AACA;AACA,uCAAuC,KAAK,mBAAmB,QAAQ;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;AClC4C;AAC0B;AACM;AACJ;AACM;AACV;AACQ;AAC5E;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,yDAAe;AACvB;AACA;AACA;AACA;AACA;AACA,oBAAoB,qCAAqC;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oJAAoJ,QAAQ,2HAA2H;AACvR;AACA,0FAA0F,QAAQ,sHAAsH;AACxN;AACA;AACA,+CAA+C,QAAQ,uGAAuG;AAC9J;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,qCAAqC,WAAW;AAChD;AACA;AACA;AACA;AACA,oCAAoC,uDAAe;AACnD,gBAAgB,qDAAa;AAC7B;AACA;AACA,mCAAmC,uDAAe;AAClD,gBAAgB,qDAAa;AAC7B;AACA,0CAA0C,yDAAiB;AAC3D;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,+EAAwB,MAAM,+EAAwB;AAC3D,KAAK,qFAA2B,MAAM,qFAA2B;AACjE,KAAK,iFAAyB,MAAM,iFAAyB;AAC7D,KAAK,uFAA4B,MAAM,uFAA4B;AACnE,KAAK,6EAAuB,MAAM,6EAAuB;AACzD;;;;;;;;;;;;;;;;;;ACnFyC;AACJ;AAC9B;AACP,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,KAAK;AAC9D;AACA;AACA;AACA;AACA;AACA,eAAe,qDAAa,4BAA4B,6CAAO;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;;;;;;;;;;;;;;;;;;ACrCgE;AAC3B;AACI;AAClC,qCAAqC,yEAAqB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D,aAAa;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,6CAAO;AACnB;AACA;AACA;AACA;AACA,sDAAsD,qDAAa;AACnE;AACA;AACA;AACA,qBAAqB,qDAAa;AAClC;AACA;AACA,iEAAiE,UAAU,GAAG,KAAK;AACnF,oBAAoB,6CAAO;AAC3B;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACnEkE;AAC3D,0CAA0C,2EAAsB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACXkE;AAC3D,wCAAwC,2EAAsB;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACXgE;AACzD,uCAAuC,yEAAqB;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AClCkE;AAC3D,2CAA2C,2EAAsB;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACXkE;AAC3D,sCAAsC,2EAAsB;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;ACXA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACO;AACP;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB,kBAAkB;AAClB,oBAAoB;AACpB,oBAAoB;AACpB,mBAAmB;AACnB,KAAK;AACL;AACA,kBAAkB;AAClB,kBAAkB;AAClB,mBAAmB;AACnB,KAAK;AACL;AACA,kBAAkB;AAClB,kBAAkB;AAClB,oBAAoB;AACpB,oBAAoB;AACpB,mBAAmB;AACnB;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,oBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;;;;;;;UC5GA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;ACNA;AACA;AACkC","sources":["webpack://LhqGenerators/./src/helpers.ts","webpack://LhqGenerators/./src/hostEnv.ts","webpack://LhqGenerators/./src/templateManager.ts","webpack://LhqGenerators/./src/templates/codeGeneratorTemplate.ts","webpack://LhqGenerators/./src/templates/csharpResXTemplateBase.ts","webpack://LhqGenerators/./src/templates/netCoreResxCsharp.ts","webpack://LhqGenerators/./src/templates/netFwResxCsharp.ts","webpack://LhqGenerators/./src/templates/typescriptJson.ts","webpack://LhqGenerators/./src/templates/winFormsResxCsharp.ts","webpack://LhqGenerators/./src/templates/wpfResxCsharp.ts","webpack://LhqGenerators/./src/utils.ts","webpack://LhqGenerators/webpack/bootstrap","webpack://LhqGenerators/webpack/runtime/define property getters","webpack://LhqGenerators/webpack/runtime/hasOwnProperty shorthand","webpack://LhqGenerators/webpack/runtime/make namespace object","webpack://LhqGenerators/./src/index.ts"],"sourcesContent":["import { getNestedPropertyValue, isNullOrEmpty, sortBy, sortObjectByKey, textEncode, } from \"./utils\";\nimport { HostEnv } from \"./hostEnv\";\nexport function registerHelpers() {\n    Object.keys(helpersList).forEach(key => {\n        // @ts-ignore\n        Handlebars.registerHelper(key, helpersList[key]);\n    });\n}\nconst helpersList = {};\nhelpersList['x-header'] = header;\nhelpersList['x-value'] = objValue;\nhelpersList['x-indent'] = indent;\nhelpersList['x-join'] = join;\nhelpersList['x-concat'] = concat;\nhelpersList['x-replace'] = replace;\nhelpersList['x-trimEnd'] = trimEnd;\nhelpersList['x-equals'] = equals;\nhelpersList['x-resourceComment'] = resourceComment;\nhelpersList['x-resourceValue'] = resourceValue;\nhelpersList['x-resourceHasLang'] = resourceHasLang;\nhelpersList['x-resourceParamNames'] = resourceParamNames;\nhelpersList['x-merge'] = merge;\nhelpersList['x-sortBy'] = sortBy;\nhelpersList['x-sortObject'] = sortObjectByKeyHelper;\nhelpersList['x-objCount'] = objCount;\nhelpersList['x-textEncode'] = textEncodeHelper;\nhelpersList['x-host-webHtmlEncode'] = hostWebHtmlEncodeHelper;\n//helpersList['x-each'] = eachsorted;\nfunction header() {\n    return `//------------------------------------------------------------------------------\r\n// <auto-generated>\r\n//     This code was generated by a tool - Localization HQ Editor.\r\n//\r\n//     Changes to this file may cause incorrect behavior and will be lost if\r\n//     the code is regenerated.\r\n// </auto-generated>\r\n//------------------------------------------------------------------------------`;\n}\nfunction objValue(context, path) {\n    const value = getNestedPropertyValue(context, path);\n    return value !== undefined ? value : '';\n}\nfunction indent(count, options) {\n    count = count < 0 ? 0 : count;\n    // @ts-ignore\n    var content = options.fn(this);\n    var paddedContent = content.split('\\n')\n        .map(line => '\\t'.repeat(count) + line)\n        .join('\\n');\n    return paddedContent;\n}\n/*\n{{#join people delimiter=\" and \" start=\"0\" end=\"2\"}}{{name}} ({{gender}}, {{age}}){{/join}}\n<h1>Jobs</h1>\n{{join jobs delimiter=\", \" start=\"1\" end=\"2\"}}\n*/\nfunction join(items, block) {\n    var delimiter = block.hash.delimiter || \",\", start = block.hash.start || 0, len = items ? items.length : 0, end = block.hash.end || len, out = \"\", decorator = block.hash.decorator || `\"`;\n    if (end > len)\n        end = len;\n    if ('function' === typeof block) {\n        for (let i = start; i < end; i++) {\n            if (i > start)\n                out += delimiter;\n            if ('string' === typeof items[i])\n                out += items[i];\n            else\n                out += block(items[i]);\n        }\n        return out;\n    }\n    else {\n        // @ts-ignore\n        var res = [].concat(items).map(x => `${decorator}${x}${decorator}`).slice(start, end).join(delimiter);\n        // @ts-ignore\n        return new Handlebars.SafeString(res);\n    }\n}\n// usage: {{ x-concat 'prop1' 'prop2' 'prop3' sep=\",\" }}\nfunction concat(...args) {\n    const options = args.pop();\n    const sep = options.hash.sep || ''; // Default to empty string if no separator is provided\n    // @ts-ignore\n    return args.filter(Boolean).join(sep);\n}\nfunction replace(value, block) {\n    const what = block.hash.what || '', withStr = block.hash.with || '';\n    if (!what || !withStr || (what === withStr)) {\n        return value;\n    }\n    const regex = new RegExp(what, 'g');\n    return value.replace(regex, withStr);\n}\n// usage: {{x-trimEnd fullPath \"/index.html\"}}\nfunction trimEnd(input, endPattern) {\n    try {\n        const regex = new RegExp(endPattern + '$');\n        return input.replace(regex, '');\n    }\n    catch (error) {\n        console.error('Invalid regex pattern:', endPattern);\n        return input;\n    }\n}\n// usage: {{#x-equals 'hello world' 'WorlD' cs=\"false\" }}\n// function ifEquals(input: any, value: any, block: any): boolean {\n//     const cs = (block.hash.cs || \"true\").toString().toLowerCase() == \"true\";\n//     const val1 = typeof input === \"string\" ? input : (input?.toString() ?? '');\n//     const val2 = typeof value === \"string\" ? value : (value?.toString() ?? '');\n//    \n//     const equals = cs ? val1 === val2 : (val1.toLowerCase() === val2.toLowerCase());\n//     if (equals) {\n//         // @ts-ignore\n//         return block.fn(this);\n//     } else {\n//         // @ts-ignore\n//         return block.inverse(this);\n//     }\n// }\nfunction equals(input, value, block) {\n    var _a, _b;\n    const cs = (block.hash.cs || \"true\").toString().toLowerCase() == \"true\";\n    const val1 = typeof input === \"string\" ? input : ((_a = input === null || input === void 0 ? void 0 : input.toString()) !== null && _a !== void 0 ? _a : '');\n    const val2 = typeof value === \"string\" ? value : ((_b = value === null || value === void 0 ? void 0 : value.toString()) !== null && _b !== void 0 ? _b : '');\n    return cs ? val1 === val2 : (val1.toLowerCase() === val2.toLowerCase());\n}\nfunction trimComment(value) {\n    let trimmed = false;\n    var idxNewLine = value.indexOf('\\r\\n');\n    if (idxNewLine == -1) {\n        idxNewLine = value.indexOf('\\n');\n    }\n    if (idxNewLine == -1) {\n        idxNewLine = value.indexOf('\\r');\n    }\n    if (idxNewLine > -1) {\n        value = value.substring(0, idxNewLine);\n        trimmed = true;\n    }\n    if (value.length > 80) {\n        value = value.substring(0, 80);\n        trimmed = true;\n    }\n    if (trimmed) {\n        value += \"...\";\n    }\n    return value.replace('\\t', ' ');\n}\nfunction resourceComment(resource, options) {\n    var _a, _b, _c;\n    if (typeof resource === 'object') {\n        const model = options.hash.root.model;\n        const primaryLanguage = (_b = (_a = model === null || model === void 0 ? void 0 : model.model) === null || _a === void 0 ? void 0 : _a.primaryLanguage) !== null && _b !== void 0 ? _b : '';\n        if (!isNullOrEmpty(primaryLanguage) && resource.values) {\n            const resourceValue = (_c = resource.values[primaryLanguage]) === null || _c === void 0 ? void 0 : _c.value;\n            let propertyComment = isNullOrEmpty(resourceValue) ? resource.description : resourceValue;\n            propertyComment = trimComment(propertyComment);\n            // @ts-ignore\n            return new Handlebars.SafeString(propertyComment);\n        }\n    }\n    return '';\n}\nfunction resourceValue(resource, options) {\n    var _a, _b, _c, _d;\n    if (typeof resource === 'object') {\n        const lang = (_a = options.hash.lang) !== null && _a !== void 0 ? _a : '';\n        if (!isNullOrEmpty(lang)) {\n            let resValue = (_d = (_c = (_b = resource === null || resource === void 0 ? void 0 : resource.values) === null || _b === void 0 ? void 0 : _b[lang]) === null || _c === void 0 ? void 0 : _c.value) !== null && _d !== void 0 ? _d : '';\n            return resValue;\n        }\n    }\n    return '';\n}\nfunction resourceHasLang(resource, options) {\n    var _a;\n    if (typeof resource === 'object') {\n        const lang = (_a = options.hash.lang) !== null && _a !== void 0 ? _a : '';\n        if (!isNullOrEmpty(lang) && resource.values && resource.values[lang]) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction resourceParamNames(resource, options) {\n    var _a, _b;\n    if (typeof resource === 'object' && resource.parameters) {\n        const withTypes = (_b = (_a = options === null || options === void 0 ? void 0 : options.hash) === null || _a === void 0 ? void 0 : _a.withTypes) !== null && _b !== void 0 ? _b : false;\n        return Object.keys(resource.parameters).map(key => {\n            return withTypes ? `object ${key}` : key;\n        }).join(',');\n    }\n    return '';\n}\nfunction merge(context, options) {\n    var _a;\n    return Object.assign({}, context, (_a = options.hash) !== null && _a !== void 0 ? _a : {});\n}\nfunction sortObjectByKeyHelper(obj, options) {\n    var _a, _b;\n    const sortOrder = (_b = (_a = options === null || options === void 0 ? void 0 : options.hash) === null || _a === void 0 ? void 0 : _a.sortOrder) !== null && _b !== void 0 ? _b : 'asc';\n    return sortObjectByKey(obj, sortOrder);\n}\nfunction objCount(obj) {\n    if (isNullOrEmpty(obj)) {\n        return 0;\n    }\n    return Array.isArray(obj) ? obj.length : Object.keys(obj).length;\n}\nfunction textEncodeHelper(str, options) {\n    var _a, _b, _c, _d;\n    const mode = (_b = (_a = options === null || options === void 0 ? void 0 : options.hash) === null || _a === void 0 ? void 0 : _a.mode) !== null && _b !== void 0 ? _b : 'html';\n    const quotes = (_d = (_c = options === null || options === void 0 ? void 0 : options.hash) === null || _c === void 0 ? void 0 : _c.quotes) !== null && _d !== void 0 ? _d : false;\n    const s = textEncode(str, { mode: mode, quotes });\n    // @ts-ignore\n    return new Handlebars.SafeString(s);\n}\nfunction hostWebHtmlEncodeHelper(str) {\n    if (isNullOrEmpty(str)) {\n        return str;\n    }\n    const encoded = HostEnv.webHtmlEncode(str);\n    // @ts-ignore\n    //HostEnv.debugLog(\"[hostWebHtmlEncodeHelper] encoded >> [\" + new Handlebars.SafeString(encoded).toString() + \"]\");\n    // @ts-ignore\n    return new Handlebars.SafeString(encoded);\n}\n/*\nfunction eachsorted(context: any, options: any) {\n    // Get the sort order from the helper's hash (default to 'asc')\n    const sortOrder = options.hash.sortOrder || 'asc';\n\n    // Sort the object by keys\n    let result = '';\n    if (context) {\n        try {\n            // @ts-ignore\n            //HostEnv.debugLog('sortObjectByKey begin, for >> ' + JSON.stringify(this));\n            const sortedObj = sortObjectByKey(context, sortOrder);\n\n            // Use the built-in #each block to iterate over the sorted object\n            for (const key in sortedObj) {\n                if (sortedObj.hasOwnProperty(key)) {\n                    // Create a new context with the current key and value\n                    const context = {\n                        key: key,\n                        value: sortedObj[key]\n                    };\n                    // Render the block with the current context\n                    result += options.fn(context);\n                }\n            }\n        } catch (e) {\n            HostEnv.debugLog('sortObjectByKey err, for >> ' + JSON.stringify(context));\n        }\n    }\n\n    return result;\n}\n */ \n","// declare let HostEnv: {\n//     DebugLog: (msg: string) => void;\n//     AddResultFile: (name: string, content: string) => void;\n// }\nexport class HostEnv {\n    static addResultFile(name, content) {\n        if (HostAddResultFile) {\n            HostAddResultFile(name, content);\n            //HostEnv.debugLog(`Added file '${name}' with content: ${content}`);\n        }\n        else {\n            console.log(`Added file '${name}' with content: '${content}'`);\n        }\n    }\n    static debugLog(msg) {\n        if (HostDebugLog) {\n            HostDebugLog(msg);\n        }\n        else {\n            console.log(msg);\n        }\n    }\n    static pathCombine(path1, path2) {\n        if (HostPathCombine) {\n            return HostPathCombine(path1, path2);\n        }\n        return path1 + '/' + path2;\n    }\n    static webHtmlEncode(input) {\n        if (HostWebHtmlEncode) {\n            return HostWebHtmlEncode(input);\n        }\n        return input;\n    }\n}\n","import { registerHelpers } from \"./helpers\";\nimport { TypescriptJson01Template } from \"./templates/typescriptJson\";\nimport { NetCoreResxCsharp01Template } from \"./templates/netCoreResxCsharp\";\nimport { NetFwResxCsharp01Template } from \"./templates/netFwResxCsharp\";\nimport { WinFormsResxCsharp01Template } from \"./templates/winFormsResxCsharp\";\nimport { WpfResxCsharp01Template } from \"./templates/wpfResxCsharp\";\nimport { iterateObject, sortObjectByKey, sortObjectByValue } from \"./utils\";\nconst CodeGenUID = 'b40c8a1d-23b7-4f78-991b-c24898596dd2';\nexport class TemplateManager {\n    static intialize(handlebarFiles) {\n        TemplateManager.handlebarFiles = JSON.parse(handlebarFiles);\n        // @ts-ignore\n        String.prototype.isTrue = function () {\n            return this.toLowerCase() === \"true\";\n        };\n        registerHelpers();\n    }\n    static runTemplate(lhqModelJson, hostData) {\n        let lhqModel = JSON.parse(lhqModelJson);\n        if (lhqModel) {\n            lhqModel = TemplateManager.sortByNameModel(lhqModel);\n            const { template, templateId, settingsNode } = TemplateManager.loadTemplate(lhqModel);\n            let settings = template.loadSettings(settingsNode);\n            let host = {};\n            if (hostData) {\n                host = JSON.parse(hostData);\n            }\n            const rootModel = {\n                model: lhqModel,\n                settings: settings,\n                host: host,\n                extra: {}\n            };\n            template.generate(rootModel);\n        }\n        else {\n            throw new Error(`Unable to deserialize LHQ model !`);\n        }\n    }\n    static loadTemplate(model) {\n        var _a, _b, _c;\n        let template = undefined;\n        let templateId = '';\n        let node = (_b = (_a = model.metadatas) === null || _a === void 0 ? void 0 : _a.childs) === null || _b === void 0 ? void 0 : _b.find(x => { var _a; return x.name === 'metadata' && ((_a = x.attrs) === null || _a === void 0 ? void 0 : _a['descriptorUID']) === CodeGenUID; });\n        if (node) {\n            node = (_c = node.childs) === null || _c === void 0 ? void 0 : _c.find(x => { var _a; return x.name === 'content' && ((_a = x.attrs) === null || _a === void 0 ? void 0 : _a['templateId']) !== undefined; });\n            if (node) {\n                templateId = node === null || node === void 0 ? void 0 : node.attrs['templateId'];\n                node = node.childs.find(x => { var _a; return x.name === 'Settings' && ((_a = x.childs) === null || _a === void 0 ? void 0 : _a.length) > 0; });\n            }\n        }\n        if (node && templateId !== undefined && template !== '') {\n            const ctor = TemplateManager.generators[templateId];\n            template = (ctor && new ctor(TemplateManager.handlebarFiles)) || undefined;\n            return { template, templateId, settingsNode: node };\n        }\n        throw new Error(`Template '${templateId}' not found !`);\n    }\n    static sortByNameModel(lhqModel) {\n        function recursiveCategories(parent) {\n            if (parent.categories) {\n                parent.categories = sortObjectByKey(parent.categories);\n                iterateObject(parent.categories, (_, item) => recursiveCategories(item));\n            }\n            if (parent.resources) {\n                parent.resources = sortObjectByKey(parent.resources);\n                iterateObject(parent.resources, (_, item) => {\n                    if (item.parameters) {\n                        item.parameters = sortObjectByValue(item.parameters, x => x.order);\n                    }\n                });\n            }\n        }\n        recursiveCategories(lhqModel);\n        return lhqModel;\n    }\n}\nTemplateManager.generators = {\n    [TypescriptJson01Template.Id]: TypescriptJson01Template,\n    [NetCoreResxCsharp01Template.Id]: NetCoreResxCsharp01Template,\n    [NetFwResxCsharp01Template.Id]: NetFwResxCsharp01Template,\n    [WinFormsResxCsharp01Template.Id]: WinFormsResxCsharp01Template,\n    [WpfResxCsharp01Template.Id]: WpfResxCsharp01Template\n};\n","import { isNullOrEmpty } from \"../utils\";\nimport { HostEnv } from \"../hostEnv\";\nexport class HostDataKeys {\n    //public static get outDir(): string { return 'outDir'; };\n    static get namespace() {\n        return 'namespace';\n    }\n    ;\n}\nexport class CodeGeneratorTemplate {\n    constructor(handlebarFiles) {\n        this.handlebarFiles = handlebarFiles;\n    }\n    getHandlebarFile(name) {\n        const file = this.handlebarFiles[name];\n        if (file === undefined || file === '') {\n            throw new Error(`Handlebar file with name '${name}' not found !`);\n        }\n        return file;\n    }\n    prepareFilePath(fileName, outputSettings) {\n        const outputFolder = outputSettings.OutputFolder;\n        return isNullOrEmpty(outputFolder) ? fileName : HostEnv.pathCombine(outputFolder, fileName);\n    }\n    compile(handlebarsTemplate, data) {\n        // @ts-ignore\n        const compiled = Handlebars.compile(handlebarsTemplate);\n        let result = compiled(data);\n        result = result.replace(/\\t¤$/gm, \"\");\n        //result = result.replace(/\\t©$/gm, \"\");\n        // let err = false;\n        // // @ts-ignore\n        // result.replace(/^[\\t_]*?(\\t_)$/gm, function(match, group) {\n        //    \n        // });\n        return result;\n    }\n}\n","import { CodeGeneratorTemplate } from \"./codeGeneratorTemplate\";\nimport { HostEnv } from \"../hostEnv\";\nimport { isNullOrEmpty } from \"../utils\";\nexport class CSharpResXTemplateBase extends CodeGeneratorTemplate {\n    constructor(handlebarFiles) {\n        super(handlebarFiles);\n    }\n    generate(rootModel) {\n        var _a;\n        const modelVersion = rootModel.model.model.version;\n        // if (modelVersion < 2) {\n        //     throw new AppError(`Current LHQ file version (${modelVersion}) is not supported! (min version 2 is supported)`);\n        // }\n        const defaultCompatibleTextEncoding = modelVersion < 2;\n        const modelName = rootModel.model.model.name;\n        if (this._settings.CSharp.Enabled.isTrue()) {\n            rootModel.extra = {};\n            rootModel.extra['rootClassName'] = this.getRootCsharpClassName(rootModel);\n            const csharpTemplateFile = this.getHandlebarFile(this.csharpTemplateName);\n            const csfileContent = this.compile(csharpTemplateFile, rootModel);\n            const csFileName = this.prepareFilePath(modelName + '.gen.cs', this._settings.CSharp);\n            HostEnv.addResultFile(csFileName, csfileContent);\n        }\n        if (this._settings.ResX.Enabled.isTrue()) {\n            const resxTemplateFile = this.getHandlebarFile('resx');\n            rootModel.extra = {};\n            rootModel.extra['useHostWebHtmlEncode'] = isNullOrEmpty(this._settings.ResX.CompatibleTextEncoding)\n                ? defaultCompatibleTextEncoding\n                : this._settings.ResX.CompatibleTextEncoding.isTrue();\n            (_a = rootModel.model.languages) === null || _a === void 0 ? void 0 : _a.forEach(lang => {\n                if (!isNullOrEmpty(lang)) {\n                    rootModel.extra['lang'] = lang;\n                    const resxfileContent = this.compile(resxTemplateFile, rootModel);\n                    const resxfileName = this.prepareFilePath(`${modelName}.${lang}.resx`, this._settings.ResX);\n                    HostEnv.addResultFile(resxfileName, resxfileContent);\n                }\n            });\n        }\n    }\n    loadSettings(node) {\n        var _a, _b, _c;\n        const result = {\n            CSharp: undefined,\n            ResX: undefined\n        };\n        (_a = node.childs) === null || _a === void 0 ? void 0 : _a.forEach(x => {\n            const attrs = x.attrs;\n            switch (x.name) {\n                case 'CSharp':\n                    result.CSharp = attrs;\n                    break;\n                case 'ResX':\n                    result.ResX = attrs;\n                    break;\n            }\n        });\n        if (result.CSharp === undefined) {\n            throw new Error('CSharp settings not found !');\n        }\n        if (result.ResX === undefined) {\n            throw new Error('ResX settings not found !');\n        }\n        result.CSharp.Enabled = (_b = result.CSharp.Enabled) !== null && _b !== void 0 ? _b : true.toString();\n        result.ResX.Enabled = (_c = result.ResX.Enabled) !== null && _c !== void 0 ? _c : true.toString();\n        this._settings = result;\n        return result;\n    }\n}\n","import { CSharpResXTemplateBase } from \"./csharpResXTemplateBase\";\nexport class NetCoreResxCsharp01Template extends CSharpResXTemplateBase {\n    static get Id() {\n        return 'NetCoreResxCsharp01';\n    }\n    get csharpTemplateName() {\n        return NetCoreResxCsharp01Template.Id;\n    }\n    getRootCsharpClassName(rootModel) {\n        return rootModel.model.model.name + 'Localizer';\n    }\n}\n","import { CSharpResXTemplateBase } from \"./csharpResXTemplateBase\";\nexport class NetFwResxCsharp01Template extends CSharpResXTemplateBase {\n    static get Id() {\n        return 'NetFwResxCsharp01';\n    }\n    get csharpTemplateName() {\n        return NetFwResxCsharp01Template.Id;\n    }\n    getRootCsharpClassName(rootModel) {\n        return rootModel.model.model.name + 'Context';\n    }\n}\n","import { CodeGeneratorTemplate } from \"./codeGeneratorTemplate\";\nexport class TypescriptJson01Template extends CodeGeneratorTemplate {\n    generate(rootModel) {\n        const handlebarFile = this.getHandlebarFile(TypescriptJson01Template.Id);\n        const tsFileContent = this.compile(handlebarFile, rootModel);\n        // const csFileName = this.prepareFilePath(modelName + '.gen.cs', rootModel, this._settings.CSharp);\n        // HostEnv.addResultFile(csFileName, csfileContent);\n    }\n    loadSettings(node) {\n        var _a;\n        const result = { Typescript: undefined, Json: undefined };\n        (_a = node.childs) === null || _a === void 0 ? void 0 : _a.forEach(x => {\n            const attrs = x.attrs;\n            switch (x.name) {\n                case 'Typescript':\n                    result.Typescript = attrs;\n                    break;\n                case 'Json':\n                    result.Json = attrs;\n                    break;\n            }\n        });\n        if (result.Typescript === undefined) {\n            throw new Error('Typescript settings not found !');\n        }\n        if (result.Json === undefined) {\n            throw new Error('Json settings not found !');\n        }\n        this._settings = result;\n        return result;\n    }\n    static get Id() {\n        return 'TypescriptJson01';\n    }\n}\n","import { CSharpResXTemplateBase } from \"./csharpResXTemplateBase\";\nexport class WinFormsResxCsharp01Template extends CSharpResXTemplateBase {\n    static get Id() {\n        return 'WinFormsResxCsharp01';\n    }\n    get csharpTemplateName() {\n        return WinFormsResxCsharp01Template.Id;\n    }\n    getRootCsharpClassName(rootModel) {\n        return rootModel.model.model.name + 'Context';\n    }\n}\n","import { CSharpResXTemplateBase } from \"./csharpResXTemplateBase\";\nexport class WpfResxCsharp01Template extends CSharpResXTemplateBase {\n    static get Id() {\n        return 'WpfResxCsharp01';\n    }\n    get csharpTemplateName() {\n        return WpfResxCsharp01Template.Id;\n    }\n    getRootCsharpClassName(rootModel) {\n        return rootModel.model.model.name + 'Context';\n    }\n}\n","//const he = require('he');\n// export function htmlEncode(value: string, options: any): string {\n//     return he.encode(value, options);\n// }\nexport function getNestedPropertyValue(obj, path) {\n    return path.split('.').reduce((acc, part) => {\n        if (acc === undefined)\n            return undefined;\n        // Check if the part includes an array index like \"c[1]\"\n        const match = part.match(/^(\\w+)\\[(\\d+)]$/);\n        if (match) {\n            const [, property, index] = match;\n            // @ts-ignore\n            return Array.isArray(acc[property]) ? acc[property][index] : undefined;\n        }\n        // @ts-ignore\n        return acc[part];\n    }, obj);\n}\n/**\n * Checks if a `value` is null, undefined or empty string.\n *\n * @typeParam T - The type of the value.\n * @param value - The value to check.\n *\n * @returns `true` if the value is null, undefined or empty string, `false` otherwise.\n */\nexport function isNullOrEmpty(value) {\n    return value === null || value === undefined || value === '';\n}\nexport function sortObjectByKey(obj, sortOrder = 'asc') {\n    return Object.fromEntries(Object.entries(obj).sort(([a], [b]) => sortOrder === 'asc' ? a.localeCompare(b, 'en') : b.localeCompare(a, 'en')));\n}\nexport function sortObjectByValue(obj, predicate, sortOrder = 'asc') {\n    return Object.fromEntries(Object.entries(obj).sort(([, a], [, b]) => {\n        const aValue = predicate(a);\n        const bValue = predicate(b);\n        if (aValue < bValue) {\n            return sortOrder === 'asc' ? -1 : 1;\n        }\n        if (aValue > bValue) {\n            return sortOrder === 'asc' ? 1 : -1;\n        }\n        return 0;\n    }));\n}\nexport function sortBy(source, propName, sortOrder = 'asc') {\n    return source.concat([]).sort((a, b) => {\n        // @ts-ignore\n        const v1 = propName === undefined ? a : a[propName];\n        // @ts-ignore\n        const v2 = propName === undefined ? b : b[propName];\n        const res = v1 > v2 ? 1 : ((v2 > v1) ? -1 : 0);\n        return sortOrder === 'asc' ? res : res * -1;\n    });\n}\nexport function iterateObject(obj, callback) {\n    for (const [key, value] of Object.entries(obj)) {\n        callback(key, value);\n    }\n}\nconst encodingCharMaps = {\n    html: {\n        '>': '&gt;',\n        '<': '&lt;',\n        '\"': '&quot;',\n        \"'\": '&apos;',\n        '&': '&amp;'\n    },\n    xml: {\n        '>': '&gt;',\n        '<': '&lt;',\n        '&': '&amp;'\n    },\n    xml_quotes: {\n        '>': '&gt;',\n        '<': '&lt;',\n        '\"': '&quot;',\n        \"'\": '&apos;',\n        '&': '&amp;'\n    }\n};\nexport function textEncode(str, encoder) {\n    var _a;\n    if (isNullOrEmpty(str)) {\n        return str;\n    }\n    const encodedChars = [];\n    for (let i = 0; i < str.length; i++) {\n        const ch = str.charAt(i);\n        let map;\n        if (encoder.mode === 'html') {\n            map = encodingCharMaps.html;\n        }\n        else {\n            map = ((_a = encoder.quotes) !== null && _a !== void 0 ? _a : true) ? encodingCharMaps.xml_quotes : encodingCharMaps.xml;\n        }\n        if (map.hasOwnProperty(ch)) {\n            encodedChars.push(map[ch]);\n        }\n        else {\n            encodedChars.push(ch);\n        }\n    }\n    return encodedChars.join('');\n}\nexport function toBoolean(value) {\n    return value.toLowerCase() === 'true';\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","//export * from './types';\n// export * from './utils';\nexport * from './templateManager';\n"],"names":[],"sourceRoot":""}